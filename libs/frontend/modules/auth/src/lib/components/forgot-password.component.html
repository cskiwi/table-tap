<div class="min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary to-primary-emphasis">
  <div class="w-full max-w-md">
    <p-card>
      <ng-template pTemplate="header">
        <div class="text-center pt-8 pb-4">
          <h2 class="m-0 mb-2 text-color">Reset Password</h2>
          <p class="m-0 text-color-secondary">Enter your email to receive reset instructions</p>
        </div>
      </ng-template>

      @if (!emailSent()) {
        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()">
          <div class="mb-6">
            <label for="email" class="block mb-2 text-color font-medium">Email Address</label>
            <input
              pInputText
              id="email"
              type="email"
              formControlName="email"
              placeholder="Enter your email address"
              class="w-full"
              [class.ng-invalid]="forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched"
            />
            @if (forgotPasswordForm.get('email')?.invalid && forgotPasswordForm.get('email')?.touched) {
              <small class="p-error">Please enter a valid email address</small>
            }
          </div>

          @if (errorMessage()) {
            <p-message severity="error" [text]="errorMessage()"></p-message>
          }

          <div class="my-6">
            <button
              pButton
              type="submit"
              label="Send Reset Instructions"
              [loading]="isLoading()"
              [disabled]="forgotPasswordForm.invalid"
              class="w-full"
            ></button>
          </div>
        </form>
      } @else {
        <div class="text-center my-4">
          <p-message severity="success" text="Password reset instructions have been sent to your email."></p-message>
          <p class="mt-4 text-color-secondary text-sm leading-normal">
            Please check your email and follow the instructions to reset your password.
          </p>
        </div>
      }

      <ng-template pTemplate="footer">
        <div class="text-center pt-4">
          <p class="my-2 text-color-secondary">
            Remember your password?
            <a routerLink="/auth/login" class="text-primary no-underline font-medium hover:underline">Back to Sign In</a>
          </p>
          @if (!emailSent()) {
            <p class="my-2 text-color-secondary">
              Don't have an account?
              <a routerLink="/auth/register" class="text-primary no-underline font-medium hover:underline">Sign up</a>
            </p>
          }
        </div>
      </ng-template>
    </p-card>
  </div>
</div>
